:root {
  --bg1: #0a0c10;
  --bg2: #18122b;
  --bg3: #2b2d42;
  --fg: #e8f0ff;
  --muted: #aeb7cc;
  --neon: #00f7ff;
  --magenta: #ff2fb9;
  --yellow: #ffd400;
  --green: #39ffb6;
  --red: #ff4d6d;
  --tile: #11131a;
  --grid: #1a1d27;
  --shadow: #000;
  --h1: clamp(20px, 2.2vw, 30px);
  --h2: clamp(16px, 1.9vw, 24px);
  --h3: clamp(14px, 1.6vw, 20px);
  --text: clamp(11px, 1.1vw, 15px);

  /* PHASE 3: Nouvelles variables pour les animations */
  --transition-fast: 0.2s ease-out;
  --transition-medium: 0.4s cubic-bezier(0.4, 0, 0.2, 1);
  --transition-slow: 0.6s cubic-bezier(0.4, 0, 0.2, 1);
  --shadow-hover: 0 8px 25px rgba(0, 247, 255, 0.3);
  --shadow-active: 0 4px 15px rgba(0, 247, 255, 0.5);
}

/* Thèmes consoles */
[data-theme="gameboy"] {
  --bg1: #0c1a0c;
  --bg2: #132413;
  --bg3: #1a331a;
  --fg: #e2f1c1;
  --muted: #a6c38a;
  --neon: #9fd36d;
  --magenta: #7fb069;
  --yellow: #b8e986;
  --tile: #0e1f0e;
  --grid: #1b2d1b;
}
[data-theme="gbc"] {
  --bg1: #2b0040;
  --bg2: #40005f;
  --bg3: #6a00a8;
  --fg: #fff0ff;
  --muted: #d9b3ff;
  --neon: #66ffcc;
  --magenta: #ff66cc;
  --yellow: #ffe066;
  --tile: #200033;
  --grid: #3a0059;
}
[data-theme="nes"] {
  --bg1: #101010;
  --bg2: #1b1b1b;
  --bg3: #303030;
  --fg: #fafafa;
  --muted: #cfcfcf;
  --neon: #ff4d4d;
  --magenta: #ff9aa2;
  --yellow: #ffd166;
  --tile: #161616;
  --grid: #222;
}
[data-theme="snes"] {
  --bg1: #141a2b;
  --bg2: #1e2540;
  --bg3: #323b60;
  --fg: #e8ecff;
  --muted: #c2c8e6;
  --neon: #9cf;
  --magenta: #c9f;
  --yellow: #ffea83;
  --tile: #1a2240;
  --grid: #243058;
}
[data-theme="megadrive"] {
  --bg1: #0b0813;
  --bg2: #141025;
  --bg3: #1f1b3a;
  --fg: #e9e6ff;
  --muted: #bdb7e5;
  --neon: #39ffb6;
  --magenta: #8af;
  --yellow: #ffd400;
  --tile: #121028;
  --grid: #1a1740;
}
[data-theme="ps1"] {
  --bg1: #0d0f12;
  --bg2: #15191f;
  --bg3: #222832;
  --fg: #e6f2ff;
  --muted: #b8c6d9;
  --neon: #7ef;
  --magenta: #fb7;
  --yellow: #ffe28a;
  --tile: #12161f;
  --grid: #1a1f2b;
}
[data-theme="n64"] {
  --bg1: #001a2b;
  --bg2: #002a44;
  --bg3: #003b5e;
  --fg: #e6f7ff;
  --muted: #b3d9ff;
  --neon: #4df;
  --magenta: #ff5fa2;
  --yellow: #ffdb59;
  --tile: #02233a;
  --grid: #053552;
}
/* “c64” reste dispo */
[data-theme="c64"] {
  --bg1: #001b1b;
  --bg2: #003333;
  --bg3: #004c4c;
  --fg: #e0f8d0;
  --muted: #a0d0b0;
  --neon: #6affd4;
  --magenta: #ffa8f0;
  --yellow: #ffe66d;
  --tile: #003d3d;
  --grid: #005454;
}

* {
  box-sizing: border-box;
}
html,
body {
  height: 100%;
}
body {
  margin: 0;
  color: var(--fg);
  font-family: "Press Start 2P", system-ui, Segoe UI, Roboto, sans-serif;
  line-height: 1.45;
  overflow-x: hidden;
  position: relative;
  font-size: var(--text);
  padding-bottom: 56px;
}

/* FOND 8-bit ANIMÉ PAR PAGE via [data-page] */
body[data-page="home"] {
  background: radial-gradient(
      1000px 600px at 50% 0%,
      var(--bg3),
      transparent 60%
    ),
    linear-gradient(135deg, var(--bg1), var(--bg2));
  animation: bgShift 20s ease-in-out infinite alternate;
}
body[data-page="dashboard"] {
  background: repeating-conic-gradient(
    from 45deg,
    var(--bg2) 0 10deg,
    var(--bg1) 10deg 20deg
  );
  background-size: 80px 80px;
  animation: tileScroll 16s linear infinite;
}
body[data-page="info"] {
  background: linear-gradient(
      0deg,
      transparent 0 48%,
      rgba(255, 255, 255, 0.05) 48% 50%,
      transparent 50% 100%
    ),
    linear-gradient(
      90deg,
      transparent 0 48%,
      rgba(255, 255, 255, 0.04) 48% 50%,
      transparent 50% 100%
    ),
    linear-gradient(135deg, var(--bg1), var(--bg2));
  background-size: 22px 22px, 22px 22px, auto;
}
body[data-page="arcade"] {
  background: radial-gradient(
      600px 320px at 20% 10%,
      rgba(0, 247, 255, 0.18),
      transparent 60%
    ),
    radial-gradient(
      600px 320px at 80% 90%,
      rgba(255, 47, 185, 0.18),
      transparent 60%
    ),
    linear-gradient(135deg, var(--bg1), var(--bg2));
  animation: bgPulse 10s ease-in-out infinite alternate;
}
@keyframes bgShift {
  0% {
    background-position: 0 0, 0 0;
  }
  100% {
    background-position: 100px -80px, -120px 160px;
  }
}
@keyframes tileScroll {
  0% {
    background-position: 0 0;
  }
  100% {
    background-position: 160px 160px;
  }
}
@keyframes bgPulse {
  0% {
    filter: saturate(1);
  }
  100% {
    filter: saturate(1.3);
  }
}

/* NAV responsive + icônes */
.nav {
  position: sticky;
  top: 0;
  z-index: 20;
  background: rgba(10, 12, 16, 0.9);
  backdrop-filter: blur(8px);
  border-bottom: 3px solid #000;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
}
.nav .wrap {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 12px;
  padding: 12px 16px;
  min-height: 76px;
}
.brand {
  font-size: clamp(14px, 1.4vw, 18px);
  letter-spacing: 1px;
  white-space: nowrap;
}
.nav-links {
  display: flex;
  align-items: center;
  gap: 4px;
  flex-wrap: nowrap;
}
.nav a {
  color: var(--fg);
  text-decoration: none;
  padding: 10px 12px;
  display: inline-flex;
  gap: 4px;
  align-items: center;
  font-size: clamp(11px, 1vw, 13px);
  white-space: nowrap;
  border-radius: 4px;
  transition: all 0.2s ease;
}
.nav a:hover {
  color: var(--yellow);
  transform: translateY(-1px);
  background: rgba(255, 255, 255, 0.1);
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
}
/* menu hamburger */
.nav-toggle {
  display: none;
}
@media (max-width: 900px) {
  .nav-links {
    display: none;
  }
  .nav-toggle {
    display: inline-block;
  }
  .nav.open .nav-links {
    display: flex;
    flex-direction: column;
    align-items: flex-end;
    background: rgba(0, 0, 0, 0.95);
    position: absolute;
    right: 0;
    top: 100%;
    padding: 12px;
    border-left: 3px solid #000;
    border-bottom: 3px solid #000;
    box-shadow: 4px 4px 12px rgba(0, 0, 0, 0.5);
    min-width: 200px;
  }
  .nav.open .nav-links a {
    width: 100%;
    justify-content: flex-end;
    padding: 8px 12px;
  }
}

/* FOOTER fixé */
footer.site-footer {
  position: fixed;
  left: 0;
  right: 0;
  bottom: 0;
  z-index: 15;
  background: rgba(10, 12, 16, 0.9);
  border-top: 2px solid #000;
  padding: 8px 0;
  text-align: center;
  font-size: clamp(10px, 0.9vw, 12px);
}

/* Layouts / cartes / boutons */
.wrap {
  max-width: 1100px;
  margin: 0 auto;
  padding: 18px;
}
.btn-8 {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  padding: 0.5rem 0.75rem;
  color: #000;
  background: linear-gradient(#fffffff3, #cfd9ff62);
  border: 4px solid #000;
  box-shadow: 6px 6px 0 var(--shadow);
  font-size: clamp(11px, 1vw, 13px);
  cursor: pointer;
  transition: transform 0.08s;
}
.btn-8:hover {
  transform: translate(-2px, -2px);
  box-shadow: 8px 8px 0 var(--shadow);
}
.btn-8:active {
  transform: translate(0, 0);
  box-shadow: 4px 4px 0 var(--shadow);
}
.badge {
  display: inline-flex;
  align-items: center;
  gap: 4px;
  padding: 3px 7px;
  border: 2px solid #000;
  background: #222;
  color: #fff;
  font-size: clamp(10px, 0.85vw, 11px);
}
.card {
  background: var(--tile);
  border: 2px solid #000;
  box-shadow: 4px 4px 0 var(--shadow);
  padding: 12px;
}
.cartridge {
  background: linear-gradient(180deg, #d3d7e0, #b3b8c5);
  border: 4px solid #111;
  border-radius: 10px;
  box-shadow: 8px 8px 0 var(--shadow);
  padding: 10px;
}
.cartridge .label {
  background: linear-gradient(var(--magenta), #b3005c);
  color: #fff;
  padding: 5px 8px;
  display: inline-block;
  border-radius: 6px;
  font-size: clamp(10px, 0.85vw, 11px);
}
.a-arcade {
  color: var(--neon);
  text-decoration: none;
}
.a-arcade:hover {
  text-shadow: 0 0 8px var(--neon);
}

/* Inputs compacts */
input,
select {
  padding: 7px;
  border: 2px solid #000;
  background: #161a25;
  color: #fff;
  font-size: clamp(11px, 1vw, 13px);
}
label {
  font-size: clamp(10px, 0.9vw, 12px);
}

/* Grids */
.grid {
  display: grid;
  gap: 12px;
}
.grid-3 {
  grid-template-columns: repeat(3, minmax(0, 1fr));
}
@media (max-width: 900px) {
  .grid-3 {
    grid-template-columns: 1fr;
  }
}

/* Icônes rétro (pixel) */
.icon {
  display: inline-block;
  width: 14px;
  height: 14px;
  image-rendering: pixelated;
  background-size: contain;
  background-repeat: no-repeat;
}
.icon-star {
  background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="14" height="14"><polygon points="7,0 9,5 14,5 10,8 12,13 7,10 2,13 4,8 0,5 5,5" fill="%23ffd400" stroke="%23000" stroke-width="1"/></svg>');
}
.icon-user {
  background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="14" height="14"><circle cx="7" cy="4" r="3" fill="%23fff"/><rect x="2" y="8" width="10" height="5" fill="%23fff"/></svg>');
}
.icon-logout {
  background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="14" height="14"><path d="M2 2h6v3H6V4H4v6h2v-1h2v3H2zM9 5l4 2-4 2V7H6V6h3z" fill="%23fff"/></svg>');
}
.icon-gear {
  background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="14" height="14"><path d="M6 0h2l1 2 2 1 2 0v2l-2 1-1 2 1 2 2 1v2l-2 0-2 1-1 2H6l-1-2-2-1-2 0v-2l2-1 1-2-1-2-2-1V3l2 0 2-1zM7 5a2 2 0 100 4 2 2 0 000-4z" fill="%23fff"/></svg>');
}
.icon-trophy {
  background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="14" height="14"><path d="M2 1h10v2h1v2a3 3 0 01-3 3 4 4 0 01-3 2v1h2v2H5v-2h2V9a4 4 0 01-3-2A3 3 0 012 5V3h1z" fill="%23ffd400" stroke="%23000" stroke-width="1"/></svg>');
}

/* Modale screenshots */
.lightbox {
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.8);
  display: none;
  align-items: center;
  justify-content: center;
  z-index: 50;
}
.lightbox.open {
  display: flex;
}
.lightbox img {
  max-width: 90vw;
  max-height: 85vh;
  border: 4px solid #000;
  box-shadow: 8px 8px 0 #000;
  background: #000;
}

/* PATCH_UI_EMU_V1 */

/* --- NAV: bouton hamburger pixel --- */
.nav-toggle {
  display: none;
  background: linear-gradient(#fff, #cfd9ff);
  border: 4px solid #000;
  box-shadow: 6px 6px 0 #000;
  font-size: 0;
  width: 34px;
  height: 30px;
  position: relative;
  cursor: pointer;
}
.nav-toggle::before,
.nav-toggle::after,
.nav-toggle span {
  content: "";
  position: absolute;
  left: 5px;
  right: 5px;
  height: 3px;
  background: #000;
  box-shadow: 1px 1px 0 #000;
}
.nav-toggle::before {
  top: 7px;
}
.nav-toggle span {
  top: 13px;
}
.nav-toggle::after {
  top: 19px;
}
@media (max-width: 800px) {
  .nav-toggle {
    display: inline-block;
  }
}

/* --- Boutons icônes rétro plus lisibles --- */
.btn-icon {
  width: 32px;
  height: 32px;
  padding: 0;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  background: linear-gradient(#ffffff4d, #cfd9ff86);
  border: 4px solid #000;
  box-shadow: 6px 6px 0 #000;
  cursor: pointer;
}
.btn-icon:hover {
  transform: translate(-2px, -2px);
  box-shadow: 8px 8px 0 #000;
}
.btn-icon:active {
  transform: none;
  box-shadow: 4px 4px 0 #000;
}
.btn-icon .icon {
  width: 16px;
  height: 16px;
}

/* icônes plus visibles */
.icon {
  filter: drop-shadow(0 0 2px #000);
}

/* Fonds par page pour lisibilité auth/tournaments */
body[data-page="auth"] {
  background: radial-gradient(
      900px 500px at 70% -20%,
      rgba(255, 47, 185, 0.25),
      transparent 60%
    ),
    linear-gradient(135deg, var(--bg1), var(--bg2));
}
body[data-page="tournaments"] {
  background: repeating-linear-gradient(
    45deg,
    var(--bg2) 0 14px,
    var(--bg1) 14px 28px
  );
}

/* Cartes login/join */
.auth-card {
  max-width: 680px;
  margin: 20px auto;
}
.tabs {
  display: flex;
  gap: 6px;
  margin-bottom: 10px;
}
.tabs .tab {
  flex: 1;
  text-align: center;
}

/* Arcade filters */
.console-card[data-hide="1"] {
  display: none !important;
}

/* ===== DESIGN PIXELART/8BIT AMÉLIORÉ ===== */
/* Fonds pixelart par page */
body[data-page="home"] {
  background: radial-gradient(
      1000px 600px at 50% 0%,
      rgba(0, 247, 255, 0.15),
      transparent 60%
    ),
    radial-gradient(
      800px 400px at 80% 90%,
      rgba(255, 47, 185, 0.12),
      transparent 60%
    ),
    repeating-linear-gradient(45deg, var(--bg1) 0 2px, var(--bg2) 2px 4px);
  background-size: auto, auto, 8px 8px;
  animation: pixelShift 20s ease-in-out infinite alternate;
}

body[data-page="arcade"] {
  background: radial-gradient(
      600px 320px at 20% 10%,
      rgba(0, 247, 255, 0.18),
      transparent 60%
    ),
    radial-gradient(
      600px 320px at 80% 90%,
      rgba(255, 47, 185, 0.18),
      transparent 60%
    ),
    repeating-linear-gradient(90deg, var(--bg1) 0 1px, var(--bg2) 1px 2px),
    repeating-linear-gradient(0deg, var(--bg1) 0 1px, var(--bg2) 1px 2px);
  background-size: auto, auto, 4px 4px, 4px 4px;
  animation: arcadePulse 10s ease-in-out infinite alternate;
}

body[data-page="dashboard"] {
  background: repeating-conic-gradient(
      from 45deg,
      var(--bg2) 0 10deg,
      var(--bg1) 10deg 20deg
    ),
    radial-gradient(
      400px 200px at 50% 50%,
      rgba(57, 255, 182, 0.1),
      transparent 60%
    );
  background-size: 80px 80px, auto;
  animation: tileScroll 16s linear infinite;
}

body[data-page="info"] {
  background: linear-gradient(
      0deg,
      transparent 0 48%,
      rgba(255, 255, 255, 0.05) 48% 50%,
      transparent 50% 100%
    ),
    linear-gradient(
      90deg,
      transparent 0 48%,
      rgba(255, 255, 255, 0.04) 48% 50%,
      transparent 50% 100%
    ),
    repeating-linear-gradient(45deg, var(--bg1) 0 1px, var(--bg2) 1px 3px);
  background-size: 22px 22px, 22px 22px, 6px 6px;
}

body[data-page="tournaments"] {
  background: repeating-linear-gradient(
      45deg,
      var(--bg2) 0 14px,
      var(--bg1) 14px 28px
    ),
    radial-gradient(
      300px 150px at 70% 30%,
      rgba(255, 215, 0, 0.1),
      transparent 60%
    );
  background-size: auto, auto;
}

body[data-page="auth"] {
  background: radial-gradient(
      900px 500px at 70% -20%,
      rgba(255, 47, 185, 0.25),
      transparent 60%
    ),
    repeating-linear-gradient(90deg, var(--bg1) 0 2px, var(--bg2) 2px 4px);
  background-size: auto, 8px 8px;
}

/* Animations pixelart */
@keyframes pixelShift {
  0% {
    background-position: 0 0, 0 0, 0 0;
  }
  100% {
    background-position: 100px -80px, -120px 160px, 4px 4px;
  }
}

@keyframes arcadePulse {
  0% {
    filter: saturate(1) brightness(1);
  }
  100% {
    filter: saturate(1.3) brightness(1.1);
  }
}

@keyframes tileScroll {
  0% {
    background-position: 0 0, 0 0;
  }
  100% {
    background-position: 160px 160px, 0 0;
  }
}

/* ===== HOME CRT / PERSONNAGE 8-BIT ===== */
.home-hero {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 10px;
  margin-top: 16px;
}
.hint {
  opacity: 0.8;
  text-align: center;
  font-size: clamp(10px, 0.9vw, 12px);
}

.crt {
  position: relative;
  width: min(92vw, 900px);
  aspect-ratio: 4 / 3;
  margin: 0 auto;
  filter: saturate(1.05) contrast(1.02);
}
.crt-frame {
  position: absolute;
  inset: -12px;
  background: radial-gradient(
      120% 80% at 50% 0%,
      rgba(255, 255, 255, 0.06),
      transparent 60%
    ),
    linear-gradient(180deg, #1c1c22, #0c0c10);
  border-radius: 22px;
  box-shadow: inset 0 0 0 6px #000, 0 18px 0 #000,
    0 24px 40px rgba(0, 0, 0, 0.6);
}
.crt-screen {
  position: absolute;
  inset: 18px;
  background: #001;
  border: 6px solid #000;
  border-radius: 14px;
  overflow: hidden;
}
/* scanlines + vignette */
.crt-screen::before {
  content: "";
  position: absolute;
  inset: 0;
  background: linear-gradient(transparent 0 96%, rgba(0, 0, 0, 0.25) 96% 100%),
    radial-gradient(
      150% 100% at 50% 0%,
      rgba(255, 255, 255, 0.08),
      transparent 60%
    );
  background-size: 100% 3px, auto;
  pointer-events: none;
  mix-blend-mode: overlay;
}

/* décor 8-bit parallax */
.bg-parallax {
  position: absolute;
  inset: 0;
  overflow: hidden;
}
.layer {
  position: absolute;
  left: 0;
  right: 0;
  bottom: 0;
  height: 70%;
}
.layer-far {
  background: linear-gradient(#0a1430, #0a1030),
    repeating-linear-gradient(90deg, #0a1030 0 18px, #0c1440 18px 36px);
  animation: farMove 22s linear infinite;
}
.layer-mid {
  height: 58%;
  background: linear-gradient(#0b1a40, #0a1030),
    repeating-linear-gradient(90deg, #0a1030 0 24px, #0f184a 24px 48px);
  clip-path: polygon(0 35%, 100% 25%, 100% 100%, 0 100%);
  animation: midMove 14s linear infinite;
}
.layer-near {
  height: 46%;
  background: linear-gradient(#081226, #0a1028),
    repeating-linear-gradient(90deg, #0a1028 0 12px, #0d1633 12px 24px);
  clip-path: polygon(0 40%, 100% 30%, 100% 100%, 0 100%);
  animation: nearMove 8s linear infinite;
}
@keyframes farMove {
  0% {
    background-position: 0 0, 0 0;
  }
  100% {
    background-position: 0 0, -300px 0;
  }
}
@keyframes midMove {
  0% {
    background-position: 0 0, 0 0;
  }
  100% {
    background-position: 0 0, -500px 0;
  }
}
@keyframes nearMove {
  0% {
    background-position: 0 0, 0 0;
  }
  100% {
    background-position: 0 0, -900px 0;
  }
}

/* personnage pixel (petit sprite en "lego" CSS) */
.hero-char {
  position: absolute;
  bottom: 16%;
  left: -10%; /* démarre à gauche */
  width: 38px;
  height: 48px;
  image-rendering: pixelated;
  filter: drop-shadow(2px 2px 0 #000);
  transform: translateZ(0);
}
.hero-char.walk {
  animation: walkToCenter 1.9s steps(20) forwards;
}
.hero-char.idle .px-leg-l,
.hero-char.idle .px-leg-r {
  animation: none !important;
}

@keyframes walkToCenter {
  0% {
    left: -10%;
  }
  100% {
    left: calc(50% - 100px);
  } /* s'arrête proche du bouton Start */
}

/* briques du corps */
.hero-char .px {
  position: absolute;
  background: #fff;
  border: 2px solid #000;
}
.px-hair {
  width: 22px;
  height: 8px;
  left: 8px;
  top: 2px;
  background: #2b2b2b;
}
.px-head {
  width: 22px;
  height: 16px;
  left: 8px;
  top: 10px;
  background: #ffdfb3;
}
.px-eye {
  width: 4px;
  height: 4px;
  left: 22px;
  top: 16px;
  background: #000;
}
.px-body {
  width: 26px;
  height: 16px;
  left: 6px;
  top: 28px;
  background: #3bd;
}
.px-arm-l {
  width: 6px;
  height: 12px;
  left: 0;
  top: 30px;
  background: #ffdfb3;
  transform-origin: top;
  animation: armSwing 0.26s infinite alternate;
}
.px-arm-r {
  width: 6px;
  height: 12px;
  right: 0;
  top: 30px;
  background: #ffdfb3;
  transform-origin: top;
  animation: armSwing 0.26s 0.13s infinite alternate;
}
.px-leg-l {
  width: 8px;
  height: 14px;
  left: 10px;
  top: 44px;
  background: #333;
  transform-origin: top;
  animation: legWalk 0.26s infinite alternate;
}
.px-leg-r {
  width: 8px;
  height: 14px;
  left: 20px;
  top: 44px;
  background: #333;
  transform-origin: top;
  animation: legWalk 0.26s 0.13s infinite alternate;
}

@keyframes armSwing {
  from {
    transform: rotate(-14deg);
  }
  to {
    transform: rotate(14deg);
  }
}
@keyframes legWalk {
  from {
    transform: rotate(-10deg);
  }
  to {
    transform: rotate(10deg);
  }
}

/* bouton Start (dans l'écran) */
.start-wrap {
  position: absolute;
  left: 50%;
  transform: translateX(-50%);
  bottom: 15%;
}
.btn-start {
  font-size: clamp(12px, 1.2vw, 14px);
  background: linear-gradient(#fff, #cfd9ff);
  border: 4px solid #000;
  box-shadow: 6px 6px 0 #000;
  padding: 12px 24px;
  font-weight: bold;
  text-transform: uppercase;
  letter-spacing: 1px;
}

/* megadrive déco en bas à droite de l'écran */
.megadrive-deco {
  position: absolute;
  right: 10px;
  bottom: 8px;
  display: flex;
  align-items: center;
  gap: 8px;
  opacity: 0.85;
}
.md-slot {
  width: 80px;
  height: 12px;
  background: linear-gradient(#111, #333);
  border: 2px solid #000;
  box-shadow: inset 0 2px 0 rgba(255, 255, 255, 0.12);
}
.md-led {
  width: 12px;
  height: 12px;
  border: 2px solid #000;
  background: #220013;
  box-shadow: inset 0 0 8px #000;
}
.md-led.on {
  background: #ff2fb9;
  box-shadow: 0 0 8px #ff2fb9, inset 0 0 4px #000;
}

/* Home: fond spécifique encore plus coloré */
body[data-page="home"] .crt-screen {
  background: radial-gradient(
      600px 320px at 20% 10%,
      rgba(0, 247, 255, 0.15),
      transparent 60%
    ),
    radial-gradient(
      600px 320px at 80% 90%,
      rgba(255, 47, 185, 0.15),
      transparent 60%
    ),
    linear-gradient(135deg, var(--bg1), var(--bg2));
}

/* ===== PHASE 3: Lazy Loading et Animations Avancées ===== */

/* Lazy Loading des images */
img.lazy {
  opacity: 0;
  transform: scale(0.95);
  transition: opacity var(--transition-medium),
    transform var(--transition-medium);
}

img.lazy.loaded {
  opacity: 1;
  transform: scale(1);
}

/* Composants avec Lazy Loading */
[data-lazy] {
  opacity: 0;
  transform: translateY(20px);
  transition: opacity var(--transition-medium),
    transform var(--transition-medium);
}

[data-lazy].loaded {
  opacity: 1;
  transform: translateY(0);
}

/* Animations d'entrée pour les cartes */
.console-card,
.game-card,
.tournament-card {
  animation: slideInUp 0.6s ease-out;
  animation-fill-mode: both;
}

.console-card:nth-child(1) {
  animation-delay: 0.1s;
}
.console-card:nth-child(2) {
  animation-delay: 0.2s;
}
.console-card:nth-child(3) {
  animation-delay: 0.3s;
}
.console-card:nth-child(4) {
  animation-delay: 0.4s;
}
.console-card:nth-child(5) {
  animation-delay: 0.5s;
}
.console-card:nth-child(6) {
  animation-delay: 0.6s;
}

@keyframes slideInUp {
  from {
    opacity: 0;
    transform: translateY(30px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* Hover effects améliorés */
.console-card:hover,
.game-card:hover,
.tournament-card:hover {
  transform: translateY(-5px);
  box-shadow: var(--shadow-hover);
  transition: transform var(--transition-fast),
    box-shadow var(--transition-fast);
}

/* Loading states */
.loading {
  position: relative;
  overflow: hidden;
}

.loading::before {
  content: "";
  position: absolute;
  top: 0;
  left: -100%;
  width: 100%;
  height: 100%;
  background: linear-gradient(
    90deg,
    transparent,
    rgba(255, 255, 255, 0.1),
    transparent
  );
  animation: loading 1.5s infinite;
}

@keyframes loading {
  0% {
    left: -100%;
  }
  100% {
    left: 100%;
  }
}

/* Responsive improvements */
@media (max-width: 768px) {
  .console-card,
  .game-card,
  .tournament-card {
    animation-delay: 0.1s !important;
  }

  [data-lazy] {
    transform: translateY(10px);
  }
}

/* Performance optimizations */
* {
  will-change: auto;
}

.console-card,
.game-card,
.tournament-card {
  will-change: transform, box-shadow;
}

/* Accessibility improvements */
@media (prefers-reduced-motion: reduce) {
  * {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}

/* ===== PHASE 3: Animations Avancées ===== */

/* Animation de ripple pour les boutons */
@keyframes ripple {
  to {
    transform: scale(4);
    opacity: 0;
  }
}

/* Animations de scroll */
.animate-fadeIn {
  animation: fadeIn 0.6s ease-out forwards;
}

.animate-slideInLeft {
  animation: slideInLeft 0.6s ease-out forwards;
}

.animate-slideInRight {
  animation: slideInRight 0.6s ease-out forwards;
}

.animate-zoomIn {
  animation: zoomIn 0.6s ease-out forwards;
}

@keyframes fadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

@keyframes slideInLeft {
  from {
    opacity: 0;
    transform: translateX(-30px);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

@keyframes slideInRight {
  from {
    opacity: 0;
    transform: translateX(30px);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

@keyframes zoomIn {
  from {
    opacity: 0;
    transform: scale(0.8);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}

/* Effets WebGL */
.webgl-enhanced {
  position: relative;
}

.webgl-enhanced::before {
  content: "";
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: linear-gradient(
    45deg,
    transparent,
    rgba(0, 247, 255, 0.1),
    transparent
  );
  pointer-events: none;
  z-index: 1;
}

/* États de chargement améliorés */
.loading-skeleton {
  background: linear-gradient(
    90deg,
    var(--tile) 25%,
    var(--grid) 50%,
    var(--tile) 75%
  );
  background-size: 200% 100%;
  animation: loading-skeleton 1.5s infinite;
}

@keyframes loading-skeleton {
  0% {
    background-position: 200% 0;
  }
  100% {
    background-position: -200% 0;
  }
}

/* Améliorations de performance */
.performance-optimized {
  contain: layout style paint;
  will-change: transform;
}

/* Responsive design avancé */
@media (max-width: 480px) {
  .console-card,
  .game-card,
  .tournament-card {
    animation-delay: 0.05s !important;
  }
}

@media (min-width: 1200px) {
  .console-card,
  .game-card,
  .tournament-card {
    animation-delay: 0.15s !important;
  }
}
