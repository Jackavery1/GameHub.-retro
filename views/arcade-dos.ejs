<h1 class="hero-title">MS‑DOS Games (Internet Archive)</h1>
<div class="card">
  <p class="sub">
    Jeux MS-DOS classiques jouables directement dans le navigateur !
  </p>

  <!-- Sélection de jeux DOS -->
  <div class="game-selector">
    <h3>🎮 Jeux MS-DOS disponibles</h3>
    <div class="game-grid">
      <button
        class="game-btn"
        data-ia="msdos_Prince_of_Persia_1990"
        data-name="Prince of Persia"
      >
        <span class="game-icon">👑</span>
        <span class="game-name">Prince of Persia</span>
      </button>
      <button
        class="game-btn"
        data-ia="msdos_Commander_Keen_1990"
        data-name="Commander Keen"
      >
        <span class="game-icon">🚀</span>
        <span class="game-name">Commander Keen</span>
      </button>
      <button
        class="game-btn"
        data-ia="msdos_Wolfenstein_3D_1992"
        data-name="Wolfenstein 3D"
      >
        <span class="game-icon">🔫</span>
        <span class="game-name">Wolfenstein 3D</span>
      </button>
      <button class="game-btn" data-ia="msdos_Doom_1993" data-name="DOOM">
        <span class="game-icon">👹</span>
        <span class="game-name">DOOM</span>
      </button>
      <button
        class="game-btn"
        data-ia="msdos_Civilization_1991"
        data-name="Civilization"
      >
        <span class="game-icon">🏛️</span>
        <span class="game-name">Civilization</span>
      </button>
      <button class="game-btn" data-ia="msdos_SimCity_1989" data-name="SimCity">
        <span class="game-icon">🏙️</span>
        <span class="game-name">SimCity</span>
      </button>
    </div>
  </div>

  <!-- Zone de jeu -->
  <div class="game-area">
    <div class="game-frame-container">
      <iframe
        id="iaFrame"
        style="
          width: 100%;
          height: 600px;
          border: 4px solid #000;
          background: #000;
        "
        allow="fullscreen"
        referrerpolicy="no-referrer"
      ></iframe>
    </div>
    <div class="game-controls">
      <button class="btn-8" id="btnFullscreen">⛶ Fullscreen</button>
      <button class="btn-8" id="btnReload">↻ Reload</button>
    </div>
  </div>

  <!-- Instructions -->
  <div class="instructions">
    <h3>🎮 Instructions</h3>
    <p>
      Sélectionne un jeu ci-dessus pour commencer. Les contrôles varient selon
      le jeu.
    </p>
    <p>
      <strong>Note</strong> : Certains jeux peuvent prendre quelques secondes à
      charger.
    </p>
  </div>
</div>

<style>
  .game-selector {
    margin-bottom: 20px;
  }
  .game-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
    gap: 10px;
    margin-top: 10px;
  }
  .game-btn {
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: 12px;
    background: var(--tile);
    border: 2px solid #000;
    cursor: pointer;
    transition: all 0.2s;
  }
  .game-btn:hover {
    transform: translateY(-2px);
    box-shadow: 4px 4px 0 #000;
  }
  .game-btn.active {
    background: var(--neon);
    color: #000;
  }
  .game-icon {
    font-size: 24px;
    margin-bottom: 4px;
  }
  .game-name {
    font-size: 12px;
    font-weight: bold;
  }
  .game-area {
    text-align: center;
    margin: 20px 0;
  }
  .game-frame-container {
    margin-bottom: 10px;
  }
  .game-controls {
    margin-top: 10px;
    display: flex;
    gap: 8px;
    justify-content: center;
    flex-wrap: wrap;
  }
  .instructions {
    margin-top: 20px;
    padding: 12px;
    background: rgba(0, 0, 0, 0.3);
    border-radius: 4px;
  }
</style>

<script>
  (function () {
    const iframe = document.getElementById("iaFrame");

    // Gestion des boutons de jeux
    document.querySelectorAll(".game-btn").forEach((btn) => {
      btn.addEventListener("click", () => {
        const iaId = btn.dataset.ia;
        const gameName = btn.dataset.name;

        // Mise à jour visuelle
        document
          .querySelectorAll(".game-btn")
          .forEach((b) => b.classList.remove("active"));
        btn.classList.add("active");

        // Chargement du jeu
        const src = "https://archive.org/embed/" + encodeURIComponent(iaId);
        iframe.src = src;

        // Feedback sonore
        if (typeof AudioFX !== "undefined") {
          AudioFX.bleep(1200, 0.08, "square", 0.05);
        }
      });
    });

    // Contrôles
    document.getElementById("btnFullscreen").addEventListener("click", () => {
      if (iframe.requestFullscreen) {
        iframe.requestFullscreen();
      }
    });

    document.getElementById("btnReload").addEventListener("click", () => {
      iframe.src = iframe.src;
    });

    // Charger le premier jeu par défaut
    const firstBtn = document.querySelector(".game-btn");
    if (firstBtn) {
      firstBtn.click();
    }
  })();
</script>
